# player:event/right_clicked_horn
# called by advancement: player:horn

## mainhand
execute as @s[scores={maddons.horn=1..},nbt={SelectedItem:{id:"minecraft:goat_horn"}},nbt=!{SelectedItem:{components:{"minecraft:custom_data":{maddons.horn:1b}}}},nbt=!{SelectedItem:{components:{"minecraft:instrument":"minecraft:ponder_goat_horn"}}},nbt=!{SelectedItem:{components:{"minecraft:instrument":"minecraft:sing_goat_horn"}}},nbt=!{SelectedItem:{components:{"minecraft:instrument":"minecraft:seek_goat_horn"}}},nbt=!{SelectedItem:{components:{"minecraft:instrument":"minecraft:feel_goat_horn"}}},nbt=!{SelectedItem:{components:{"minecraft:instrument":"minecraft:admire_goat_horn"}}},nbt=!{SelectedItem:{components:{"minecraft:instrument":"minecraft:call_goat_horn"}}},nbt=!{SelectedItem:{components:{"minecraft:instrument":"minecraft:yearn_goat_horn"}}},nbt=!{SelectedItem:{components:{"minecraft:instrument":"minecraft:dream_goat_horn"}}}] run function magical_addons:item/goat_horn/init_0
execute as @s[scores={maddons.horn=1..},nbt={SelectedItem:{components:{"minecraft:instrument":"minecraft:ponder_goat_horn"}}}] run function magical_addons:item/goat_horn/init_0
execute as @s[scores={maddons.horn=1..},nbt={SelectedItem:{components:{"minecraft:custom_data":{maddons.id:"goat_horn"}}}}] run function magical_addons:item/goat_horn/init_1
execute as @s[scores={maddons.horn=1..},nbt={SelectedItem:{components:{"minecraft:custom_data":{maddons.id:"dragon_horn"}}}}] run function magical_addons:item/dragon_horn/right_clicked

## offhand
execute unless entity @s[nbt={SelectedItem:{id:"minecraft:goat_horn"}}] as @s[scores={maddons.horn=1..},nbt={Inventory:[{Slot:-106b,id:"minecraft:goat_horn"}]},nbt=!{Inventory:[{Slot:-106b,components:{"minecraft:custom_data":{maddons.horn:1b}}}]},nbt=!{Inventory:[{Slot:-106b,components:{"minecraft:instrument":"minecraft:ponder_goat_horn"}}]},nbt=!{Inventory:[{Slot:-106b,components:{"minecraft:instrument":"minecraft:sing_goat_horn"}}]},nbt=!{Inventory:[{Slot:-106b,components:{"minecraft:instrument":"minecraft:seek_goat_horn"}}]},nbt=!{Inventory:[{Slot:-106b,components:{"minecraft:instrument":"minecraft:feel_goat_horn"}}]},nbt=!{Inventory:[{Slot:-106b,components:{"minecraft:instrument":"minecraft:admire_goat_horn"}}]},nbt=!{Inventory:[{Slot:-106b,components:{"minecraft:instrument":"minecraft:call_goat_horn"}}]},nbt=!{Inventory:[{Slot:-106b,components:{"minecraft:instrument":"minecraft:yearn_goat_horn"}}]},nbt=!{Inventory:[{Slot:-106b,components:{"minecraft:instrument":"minecraft:dream_goat_horn"}}]}] run function magical_addons:item/goat_horn/init_0
execute unless entity @s[nbt={SelectedItem:{id:"minecraft:goat_horn"}}] as @s[scores={maddons.horn=1..},nbt={Inventory:[{Slot:-106b,components:{"minecraft:instrument":"minecraft:ponder_goat_horn"}}]}] run function magical_addons:item/goat_horn/init_0
execute unless entity @s[nbt={SelectedItem:{id:"minecraft:goat_horn"}}] as @s[scores={maddons.horn=1..},nbt={Inventory:[{Slot:-106b,components:{"minecraft:custom_data":{maddons.id:"goat_horn"}}}]}] run function magical_addons:item/goat_horn/init_1
execute unless entity @s[nbt={SelectedItem:{components:{"minecraft:custom_data":{maddons.id:"dragon_horn"}}}}] as @s[scores={maddons.horn=1..},nbt={Inventory:[{Slot:-106b,components:{"minecraft:custom_data":{maddons.id:"dragon_horn"}}}]}] run function magical_addons:item/dragon_horn/right_clicked

scoreboard players reset @s maddons.horn
advancement revoke @s only magical_addons:---/player/horn